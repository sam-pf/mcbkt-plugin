webpackJsonp([1],{133:function(e,t){},134:function(e,t){},135:function(e,t){},137:function(e,t,n){function r(e){n(133)}var o=n(46)(n(74),n(139),r,"data-v-0df4abcc",null);e.exports=o.exports},138:function(e,t,n){function r(e){n(135)}var o=n(46)(n(75),n(141),r,"data-v-44d0497c",null);e.exports=o.exports},139:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table map_table_h"},[n("thead",[n("tr",e._l(e.keys,function(t){return n("th",[e._v(e._s(""+t))])}))]),e._v(" "),n("tbody",[n("tr",e._l(e.vals,function(t){return n("td",[e._v(e._s(""+t))])}))])])},staticRenderFns:[]}},140:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"app-innerframe"}},[n("router-view")],1)])},staticRenderFns:[]}},141:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mcbkt-panel"},[n("h1",[e._v(e._s(e._f("capitalize_all")(e.heading)))]),e._v(" "),n("h2",[e._v("Current "+e._s(e._f("capitalize")(e.unit_activity_type)))]),e._v(" "),n("map_table_h",{attrs:{data:e.curitems}}),e._v(" "),n("h2",[e._v("Previous "+e._s(e._f("pluralize")(e._f("capitalize")(e.unit_activity_type))))]),e._v(" "),n("map_table_h",{attrs:{data:e.previtems}}),e._v(" "),n("h2",[e._v("All "+e._s(e._f("pluralize")(e._f("capitalize")(e.unit_activity_type))))]),e._v(" "),n("map_table_h",{attrs:{data:e.allitems}})],1)},staticRenderFns:[]}},68:function(e,t,n){"use strict";(function(e,t){var r,r,o=n(80),i=n.n(o),a=n(81),s=n.n(a),u=n(21),c=n.n(u),l=n(84),d=n.n(l);!function(r){"object"==("undefined"==typeof exports?"undefined":d()(exports))?e.exports=r():"function"==typeof define&&n(144)?define(r):"undefined"!=typeof window?window.iframePhone=r():void 0!==t?t.iframePhone=r():"undefined"!=typeof self&&(self.iframePhone=r())}(function(){return function e(t,n,o){function i(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof r&&r;if(!u&&c)return r(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n||e)},l,l.exports,e,t,n,o)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){function r(){function e(e){o.supported()?window.parent.postMessage(e,"*"):window.parent.postMessage(c()(e),"*")}function t(t,n){var r;r=1===arguments.length&&"object"===(void 0===t?"undefined":d()(t))&&"string"==typeof t.type?t:{type:t,content:n},y?e(r):b.push(r)}function n(){e({type:"hello"})}function r(e,t){g[e]=t}function u(){g={}}function l(){return s()(g)}function f(e){if(e.source===window.parent){var n=e.data;if("string"==typeof n&&(n=JSON.parse(n)),!y&&"hello"===n.type)for(y=!0,m();b.length>0;)t(b.shift());y&&g[n.type]&&g[n.type](n.content)}}function p(){y=!1,m(),window.removeEventListener("message",messsageListener)}function v(){w||(w=!0,window.parent!==window&&(h(),window.addEventListener("message",f,!1)))}function h(){_&&m(),_=window.setInterval(n,i),window.setTimeout(m,a),n()}function m(){window.clearInterval(_),_=null}var _,g={},w=!1,y=!1,b=[];return{initialize:v,getListenerNames:l,addListener:r,removeAllListeners:u,disconnect:p,post:t}}var o=e("./structured-clone"),i=200,a=6e4,u=null;t.exports=function(){return u||(u=new r),u}},{"./structured-clone":4}],2:[function(e,t,n){function r(){for(var e="abcdefghijklmnopqrstuvwxyz0123456789",t=e.length,n=[],r=0;r<10;r++)n.push(e[Math.floor(Math.random()*t)]);return n.join("")}var o=e("./parent-endpoint"),a=e("./iframe-endpoint");t.exports=function(e,t,n,s,u){function c(e,n){var o=r();f[o]={callback:n,timeout:window.setTimeout(function(){n&&n(void 0,new Error("IframePhone timed out waiting for reply"))},2e3)},u.post(t,{messageType:"call",uuid:o,value:e})}function l(){u.disconnect()}var f=i()({});e&&"object"===(void 0===e?"undefined":d()(e))&&(t=e.namespace,n=e.targetWindow,s=e.targetOrigin,u=e.phone,e=e.handler),u||(n===window.parent?(u=a(),u.initialize()):u=new o(n,s)),u.addListener(t,function(e){var n;"call"===e.messageType&&"function"==typeof this.handler?this.handler.call(void 0,e.value,function(n){u.post(t,{messageType:"returnValue",uuid:e.uuid,value:n})}):"returnValue"===e.messageType&&(n=f[e.uuid])&&(window.clearTimeout(n.timeout),n.callback&&n.callback.call(void 0,e.value),f[e.uuid]=null)}.bind(this)),this.handler=e,this.call=c.bind(this),this.disconnect=l.bind(this)}},{"./iframe-endpoint":1,"./parent-endpoint":3}],3:[function(e,t,n){var r=e("./structured-clone");t.exports=function(e,t,n){function o(e,n){var o;if(o=1===arguments.length&&"object"===(void 0===e?"undefined":d()(e))&&"string"==typeof e.type?e:{type:e,content:n},v){var i=s();r.supported()?i.postMessage(o,t):i.postMessage(c()(o),t)}else p.push(o)}function i(e,t){h[e]=t}function a(e){h[e]=null}function s(){if(f){var t=e.contentWindow;if(!t)throw"IFrame element needs to be added to DOM before communication can be started (.contentWindow is not available)";return t}return e}function u(e){var n;e.source!==s()||"*"!==t&&e.origin!==t||(n=e.data,"string"==typeof n&&(n=JSON.parse(n)),h[n.type]?h[n.type](n.content):console.log("cant handle type: "+n.type))}function l(){v=!1,window.removeEventListener("message",u)}var f,p=[],v=!1,h={};try{f=e.constructor===HTMLIFrameElement}catch(e){f=!1}return f&&(t&&t.constructor!==Function||(n=t,t=function(e){return e.src.match(/(.*?\/\/.*?)\//)[1]}(e))),"file://"===t&&(t="*"),i("hello",function(){for(v=!0,o({type:"hello",origin:window.location.href.match(/(.*?\/\/.*?)\//)[1]}),n&&"function"==typeof n&&n();p.length>0;)o(p.shift())}),window.addEventListener("message",u,!1),{post:o,addListener:i,removeListener:a,disconnect:l,getTargetWindow:s,targetOrigin:t}}},{"./structured-clone":4}],4:[function(e,t,n){var r=!1;!function(){var e=0;if(window.postMessage)try{window.onmessage=function(t){var n=Object.prototype.toString.call(t.data);e=-1!=n.indexOf("Null")||-1!=n.indexOf("DOMWindow")?1:0,r={structuredClones:e}},window.postMessage(document.createElement("a"),"*")}catch(t){e=t.DATA_CLONE_ERR||"Cannot post cyclic structures."==t.message?1:0,r={structuredClones:e}}}(),n.supported=function(){return r&&r.structuredClones>0}},{}],5:[function(e,t,n){t.exports={ParentEndpoint:e("./lib/parent-endpoint"),getIFrameEndpoint:e("./lib/iframe-endpoint"),structuredClone:e("./lib/structured-clone"),IframePhoneRpcEndpoint:e("./lib/iframe-phone-rpc-endpoint")}},{"./lib/iframe-endpoint":1,"./lib/iframe-phone-rpc-endpoint":2,"./lib/parent-endpoint":3,"./lib/structured-clone":4}]},{},[5])(5)})}).call(t,n(145)(e),n(67))},69:function(e,t,n){"use strict";/**
 * @fileOverview This module contains utility functions for accessing MCBKT
 *   engine of <a href="https://ukde.physicsfront.com">UKDE by Physics
 *   Front</a>.
 * @copyright (c) 2017, Sam Gweon (Sam@physicsfront.com)
 * @license <a href="https://opensource.org/licenses/BSD-3-Clause">
 *   BSD-3-Clause</a>
 * @author Sam Gweon (Sam@physicsfront.com)
 * @version 0.1.0
 * @module mcbkt-client
 */
function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments[2],r=arguments[3];return t=t.toUpperCase(),new u.a(function(o,i){var s=new XMLHttpRequest;if(s.open(t,e),s.onload=function(){return 200===s.status?o(s.response):i(Error(s.statusText))},s.onerror=function(e){return i(Error("Network Error: "+e))},n&&(s.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n=a()(n)),void 0!==r)for(var u in r)s.setRequestHeader(u,r[u]);s.send(n)})}function o(e){return r(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://ukde.physicsfront.com/logdata/codapproxy_stub","post",e,arguments[2])}var i=n(21),a=n.n(i),s=n(82),u=n.n(s);t.a=o},70:function(e,t,n){"use strict";var r=n(21),o=n.n(r);t.a=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Real Time MCBKT",i=r+"--"+(new Date).getTime()+"--"+Math.round(1e10*Math.random()),a=i+"::";this.last_codap_response=null,this.state={title:r,version:"0.1.0",preventBringToFront:!1,dimensions:{width:500,height:500}};var s=function(){v(),m.disconnect()},u=function(e){return'Handler not implemented for action "'+e.action+'" for CODAP request with resource "'+e.resource+'".'},c=function(e){return'Handler not implemented for CODAP response to request "'+e.action+'" with resource "'+e.resource+'".'},l=function(e){var t=f[e];return void 0===t&&(t=function(){throw Error('No handler for CODAP request with resource "'+e+'".')}),t},d=function(e){var t=p[e];return void 0===t&&(t=function(){throw Error('No handler for CODAP response to request with resource "'+e+'".')}),t},f={interactiveState:function(e){switch(e.action){case"get":return n.state;default:throw Error(u(e))}},logMessageNotice:function(e){var n=e.values;switch(e.action){case"notify":return n.formatStr.startsWith(a)?console.log("== got boomeranged logdata: "+o()(n)):n.logMonitor&&i==n.logMonitor.clientId&&(delete n.logMonitor,n.iframe_logdata_client_id=i,n.time=.001*(new Date).getTime(),t(n,h)),{message:"logdatum was received"};default:throw Error(u(e))}}},p={interactiveFrame:function(e,t){switch(e.action){case"get":var r=t.values;return n.set_state(r),void(r.savedState&&n.set_state(r.savedState,!1));default:throw Error(c(e))}},logMessage:function(e){switch(e.action){case"notify":return void console.log("log data were recevied well by CODAP---but only formatStr and replaceArgs, I think.");default:throw Error(c(e))}},logMessageMonitor:function(e){switch(e.action){case"register":return void console.log("== got register data: "+o()(e.values));default:throw Error(u(e))}}},v=function(){n.send_request_to_codap({action:"unregister",resource:"logMessageMonitor",values:{clientId:i}})},h=function(e){void 0==e.formatStr&&(e.formatStr=r+" report"),console.log("== pushing logdata to CODAP: "+o()(e)),n.send_request_to_codap({action:"notify",resource:"logMessage",values:e})};this.handle_codap_request=function(e,t){console.log("== handle_codap_request: "+o()(e));var n=!1,r=null;try{r=l(e.resource)(e),n=!0}catch(e){console.log("** "+e.message)}t({success:n,values:r})},this.handle_codap_response=function(e,t){if(console.log("== handle_codap_response: "+o()(t)),n.last_codap_response=t,t)if(Array.isArray(t)){if(!Array.isArray(e))throw Error("Type mismatch between request (non-Array) and response (Array).");if(t.length!=e.length)throw Error("Length mismatch between request ("+e.length+") and response ("+t.length+").");e.forEach(function(e,r){return n.handle_codap_response(e,t[r])})}else if(t.success){console.log("== Request to CODAP succeeded: "+o()(e));try{d(e.resource)(e,t)}catch(e){console.log("** "+e.message)}}else{var r="** Request to CODAP failed: "+o()(e);console.log(r),alert(r)}else console.log("** Request to CODAP seems to have gotten no response: "+o()(e))},this.send_request_to_codap=function(e,t){"logMessage"===e.resource&&"notify"===e.action&&(void 0!==e.values&&(e.values={}),e.values.formatStr=a+e.values.formatStr),m.call(e,function(r){return n.handle_codap_response(e,r,t)})},this.set_state=function(e){if(arguments.length>1&&void 0!==arguments[1]&&!arguments[1])for(var t in e)n.state[t]=e[t];else for(var r in n.state){var o=e[r];void 0!==o&&(n.state[r]=o)}},this.update_iframe_with_state=function(){n.send_request_to_codap({action:"update",resource:"interactiveFrame",values:n.state})};var m=new e.IframePhoneRpcEndpoint(this.handle_codap_request,"data-interactive",window.parent);this.send_request_to_codap({action:"get",resource:"interactiveFrame"}),function(){n.send_request_to_codap({action:"register",resource:"logMessageMonitor",values:{clientId:i,message:"*"}})}(),window.unload=s}},71:function(e,t,n){"use strict";var r=n(47),o=n(142),i=n(138),a=n.n(i);r.a.use(o.a),t.a=new o.a({routes:[{path:"/",name:"Panel",component:a.a,props:{heading:"",unit_activity_type:"challenge"}}]})},72:function(e,t,n){function r(e){n(134)}var o=n(46)(n(73),n(140),r,null,null);e.exports=o.exports},73:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={created:function(){},name:"app"}},74:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(77),o=n.n(r),i=n(79),a=n.n(i),s=n(48),u=n.n(s);t.default={name:"map_table_h",props:{data:{type:null,default:function(){return[["key 1","value 1"],["key 2","value 2"],["k3"]]},validator:function(e){return void 0!=e[u.a]||(console.log("data must be an iterable."),!1)}}},data:function(){return{}},computed:{map:function(){return new a.a(this.data)},keys:function(){return o()(this.map.keys()).map(function(e){return""+e})},vals:function(){return o()(this.map.values()).map(function(e){return""+e})}}}},75:function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(78),i=n.n(o),a=n(136),s=n.n(a),u=n(137),c=n.n(u);t.default={name:"mckbt-panel",components:{map_table_h:c.a},props:{unit_activity_type:{default:"level",type:String},heading:{default:"Real time MCBKT",type:String},curitem_keys:{default:function(){return["id","cluster","time","npts"]},type:Array},allitems_keys:{default:function(){return["time","npts"]},type:Array}},data:function(){return{all_data:[{id:1,cluster:"A",time:30,npts:5},{id:2,cluster:"B",time:50,npts:10},{id:3,cluster:"C",time:100,npts:10}]}},computed:{curitems:{get:function(){var e=this.all_data,t=this.curitem_keys,n=[];if(e.length){var r=e[e.length-1],o=!0,a=!1,s=void 0;try{for(var u,c=i()(t);!(o=(u=c.next()).done);o=!0){var l=u.value;n.push([l,r[l]||""])}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}}else{var d=!0,f=!1,p=void 0;try{for(var v,h=i()(t);!(d=(v=h.next()).done);d=!0){var m=v.value;n.push([m,""])}}catch(e){f=!0,p=e}finally{try{!d&&h.return&&h.return()}finally{if(f)throw p}}}return n},set:function(){}},previtems:{get:function(){var e=this.all_data,t=this.curitem_keys,n=[],r=!0,o=!1,a=void 0;try{for(var s,u=i()(t);!(r=(s=u.next()).done);r=!0){for(var c=s.value,l=[],d=0;d<e.length-1;d++)l.push(e[d][c]);n.push([c+(c.endsWith("s")?"":"s"),l])}}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n},set:function(){}},allitems:{get:function(){var e=this.all_data,t=this.allitems_keys,n=[],r=!0,o=!1,a=void 0;try{for(var s,u=i()(t);!(r=(s=u.next()).done);r=!0){for(var c=s.value,l=0,d=0;d<e.length;d++)l+=e[d][c];n.push([c+(c.endsWith("s")?"":"s"),l||""])}}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n},set:function(){}}},created:function(){window.mcbkt_fit_consumer=function(e){alert("Panel got data: "+e)}},methods:{add_new_data:function(){},replace_last_data:function(){},unregister_logdata_listener:function(){},register_mcbkt_client:function(e){},unregister_mcbkt_client:function(e){}},filters:{capitalize:r,pluralize:function(e){return s()(e,10)},capitalize_all:function(e){return e.split(" ").map(r).join(" ")}}}},76:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),o=n.n(r),i=n(47),a=n(72),s=n.n(a),u=n(71),c=n(69),l=n(68),d=n(70);if(!window.iframePhone){if(!l.default)throw Error('Failed to load module "iframePhone".');window.iframePhone=l.default}Object.defineProperty(i.a.prototype,"$iframePhone",{value:window.iframePhone}),window.logdataListener=new d.a(window.iframePhone,function(e,t){e.application="CODAP",e.activity="Ramp Game 2017 09",console.log("== main.js: posting logdata for mcbkt analysis: "+o()(e)),n.i(c.a)(e).then(function(e){console.log("== main.js: received data from UKDE: "+o()(e)),e.answer&&window.mcbkt_fit_consumer&&window.mcbkt_fit_consumer(e)},function(e){})}),Object.defineProperty(i.a.prototype,"$logdataListener",{value:window.logdataListener}),i.a.config.productionTip=!1,new i.a({el:"#app",router:u.a,template:"<App/>",components:{App:s.a}})}},[76]);
//# sourceMappingURL=app.1cdcc2f9aa5863e8f217.js.map